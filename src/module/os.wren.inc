// Please do not edit this file. It has been generated automatically
// from `src/module/os.wren` using `util/wren_to_c_string.py`

static const char* osModuleSource =
"import \"scheduler\" for Scheduler\n"
"import \"ensure\" for Ensure\n"
"\n"
"class Platform {\n"
"  foreign static homePath\n"
"  foreign static isPosix\n"
"  foreign static name\n"
"\n"
"  static isWindows { name == \"Windows\" }\n"
"}\n"
"\n"
"class Process {\n"
"  // TODO: This will need to be smarter when wren supports CLI options.\n"
"  static arguments { allArguments.count >= 2 ? allArguments[2..-1] : [] }\n"
"  static exit() { exit(0) }\n"
"  static exit(code) {\n"
"    // sets the exit code on the C side and stops the UV loop\n"
"    exit_(code)\n"
"    // suspends our Fiber and with UV loop stopped, no futher Fibers should get\n"
"    // resumed so we should immediately stop and exit\n"
"    Fiber.suspend()\n"
"  }\n"
"\n"
"  static exec(cmd) {\n"
"    return exec(cmd, null, null, null)\n"
"  }\n"
"\n"
"  static exec(cmd, args) {\n"
"    return exec(cmd, args, null, null)\n"
"  }\n"
"\n"
"  static exec(cmd, args, cwd) { \n"
"    return exec(cmd, args, cwd, null) \n"
"  }\n"
"  \n"
"  static exec(cmd, args, cwd, envMap) { \n"
"    var env = []\n"
"    args = args || []\n"
"    if (envMap is Map) {\n"
"      for (entry in envMap) {\n"
"        env.add([entry.key, entry.value].join(\"=\"))\n"
"      }\n"
"    } else if (envMap == null) {\n"
"      env = null\n"
"    } else {\n"
"      Fiber.abort(\"environment vars must be passed as a Map\")\n"
"    }\n"
"    return Scheduler.await_ { exec_(cmd, args, cwd, env, Fiber.current) }\n"
"  }\n"
"\n"
"  static chdir(dir) {\n"
"    Ensure.string(dir, \"directory\")\n"
"    chdir_(dir)\n"
"  }\n"
"\n"
"  foreign static exec_(cmd, args, cwd, env, fiber)\n"
"  foreign static allArguments\n"
"  foreign static cwd\n"
"  foreign static chdir_(dir)\n"
"  foreign static pid\n"
"  foreign static ppid\n"
"  foreign static version\n"
"  foreign static exit_(code)\n"
"}\n";
